# Prediction Markets Collector Configuration
#
# For local development:
#   Copy this file to config.yaml in the same directory and fill in values.
#
# For production:
#   The entrypoint.sh script runs envsubst automatically using environment variables.

# Log level: debug, info, warn, error (default: info)
log_level: '${LOG_LEVEL}'

# Engine configuration
engine:
  snapshot_interval: '${ENGINE_SNAPSHOT_INTERVAL}'  # How often to snapshot orderbooks (e.g., 10s, 1m)
  snapshot_depth: ${ENGINE_SNAPSHOT_DEPTH}          # Number of price levels to capture per side

# Database configuration (PostgreSQL/TimescaleDB)
database:
  host: '${POSTGRES_HOST}'
  port: ${POSTGRES_PORT}
  user: '${POSTGRES_USER}'
  password: '${POSTGRES_PASSWORD}'
  database: '${POSTGRES_DB}'
  pool_size: ${POSTGRES_POOL_SIZE}
  ssl_mode: '${POSTGRES_SSLMODE}'

# Prediction market platforms
platforms:
  polymarket:
    ws:
      url: '${POLYMARKET_WS_URL}'
      market_endpoint: '${POLYMARKET_WS_MARKET_ENDPOINT}'
    gamma_url: '${POLYMARKET_GAMMA_URL}'
    clob_url: '${POLYMARKET_CLOB_URL}'
    market_sync_interval: '${POLYMARKET_MARKET_SYNC_INTERVAL}'

  kalshi:
    api_url: '${KALSHI_API_URL}'
    ws_url: '${KALSHI_WS_URL}'
    api_key_id: '${KALSHI_API_KEY_ID}'
    api_private_key: '${KALSHI_API_PRIVATE_KEY}'  # base64-encoded PEM RSA private key

# Trading configuration
trading:
  # Wallet configuration (for on-chain platforms)
  wallet:
    private_key: '${WALLET_PRIVATE_KEY}'
    address: '${WALLET_ADDRESS}'

  # Polygon network (for Polymarket)
  polygon:
    rpc_url: '${POLYGON_RPC_URL}'
    chain_id: ${POLYGON_CHAIN_ID}

  # Risk limits
  limits:
    max_position_size: ${MAX_POSITION_SIZE}
    max_order_size: ${MAX_ORDER_SIZE}
    min_spread: ${MIN_SPREAD}

  # Arbitrage settings
  arbitrage:
    min_edge: ${MIN_ARBITRAGE_EDGE}
    max_slippage: ${MAX_SLIPPAGE}

